{"version":3,"file":"index.js","sources":["../src/Scene.js","../src/index.js"],"sourcesContent":["import { Scene as THREEScene } from '/node_modules/three/src/scenes/Scene.js';\nimport { PerspectiveCamera } from '/node_modules/three/src/cameras/PerspectiveCamera.js';\nimport { Mesh } from '/node_modules/three/src/objects/Mesh.js';\nimport { BoxGeometry } from '/node_modules/three/src/geometries/BoxGeometry.js';\nimport { MeshNormalMaterial } from '/node_modules/three/src/materials/MeshNormalMaterial.js';\n\nimport THREETrackballController from '/node_modules/@damienmortini/three/controller/THREETrackballController.js';\n\nexport default class Scene extends THREEScene {\n  constructor({ canvas }) {\n    super();\n\n    this.camera = new PerspectiveCamera(65, window.innerWidth / window.innerHeight, 0.1, 10000);\n\n    this.controls = new THREETrackballController(this.camera, {\n      distance: 5,\n      domElement: canvas,\n    });\n\n    const cube = new Mesh(new BoxGeometry(1, 1, 1), new MeshNormalMaterial());\n    this.add(cube);\n  }\n\n  resize(width, height) {\n    this.camera.aspect = width / height;\n    this.camera.updateProjectionMatrix();\n  }\n\n  update() {\n    this.controls.update();\n  }\n}\n","import AnimationTickerElement from '/node_modules/@damienmortini/element-animation-ticker/index.js';\n\nimport { WebGLRenderer } from '/node_modules/three/src/renderers/WebGLRenderer.js';\nimport Scene from './Scene.js';\n\n/**\n * Entry point element\n * @hideconstructor\n * @example\n * <starter-three></starter-three>\n */\nclass Main extends AnimationTickerElement {\n  constructor() {\n    super();\n\n    this.attachShadow({ mode: 'open' }).innerHTML = `\n      <style>\n        :host {\n          display: block;\n        }\n        \n        canvas {\n          width: 100%;\n          height: 100%;\n          max-height: 100%;\n        }\n      </style>\n      <canvas></canvas>\n    `;\n\n    this.canvas = this.shadowRoot.querySelector('canvas');\n\n    if (window.WebGL2RenderingContext !== undefined && !/\\bforcewebgl1\\b/.test(window.location.search)) {\n      this.renderer = new WebGLRenderer({\n        canvas: this.canvas,\n        context: this.canvas.getContext('webgl2', {\n          alpha: false,\n          powerPreference: 'high-performance',\n          antialias: true,\n        }),\n      });\n    } else {\n      this.renderer = new WebGLRenderer({\n        canvas: this.canvas,\n        powerPreference: 'high-performance',\n        antialias: true,\n      });\n    }\n    if (/\\bdev\\b/.test(window.location.search)) {\n      this.renderer.debug.checkShaderErrors = true;\n    }\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n\n    this.scene = new Scene({ canvas: this.canvas });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener('resize', this._resizeBinded = this.resize.bind(this));\n    this.resize();\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener('resize', this._resizeBinded);\n  }\n\n  resize() {\n    const width = this.canvas.offsetWidth;\n    const height = this.canvas.offsetHeight;\n    this.scene.resize(width, height);\n    this.renderer.setSize(width, height, false);\n    this.renderer.render(this.scene, this.scene.camera);\n  }\n\n  update() {\n    this.scene.update();\n    this.renderer.render(this.scene, this.scene.camera);\n  }\n}\n\nwindow.customElements.define('starter-three', Main);\n"],"names":["THREEScene"],"mappings":"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"}